import{r as d,k as w,c as C,o as x,f as n,a as l,w as s,b as t,l as E,v as g,Z as U,g as j,h as r,m as L,e as _,p as S,G as f,M as F,q as M}from"./index-uJ-TxiuG.js";const N={style:{padding:"13px 0 20px 0"}},z={class:"text-center"},A={style:{color:"#22D3EE"}},K=Object.assign({name:"LoginForm"},{__name:"LoginForm",setup(B){const a=d(""),u=d(""),p=d(!0),v=w(),b=_(),m=d(!1),y=()=>{m.value=!1};d(!1);const V=async()=>{let i;const e={username:a.value,password:u.value};console.log("Filled username: "+a.value),a.value!==""&&u.value!==""?(i=await M.login(e),i.error!=="login error"?(console.log("User just logged in!"),v.onLogin(i),await b.push({name:"Home"})):(console.log("No user logged in"),m.value=!0)):console.log("Error - Kaikki kentät täytettävä!"),c()},c=()=>{a.value="",u.value=""};return(i,e)=>{const k=S("router-link");return x(),C("div",null,[n("div",N,[l(t(E),{modelValue:m.value,"onUpdate:modelValue":e[0]||(e[0]=o=>m.value=o),autohide:"",delay:3e3,stacking:!1,position:"top-center",toast:"danger",icon:"fas fa-exclamation-circle fa-lg me-2"},{title:s(()=>e[5]||(e[5]=[r(" TAPAHTUI VIRHE! ",-1)])),small:s(()=>e[6]||(e[6]=[r("eee",-1)])),default:s(()=>[n("button",{type:"button",style:{visibility:"hidden"},class:"btn-close ms-auto","aria-label":"Close",onClick:y}),e[7]||(e[7]=r(" Väärä käyttäjätunnus tai salasana! ",-1))]),_:1,__:[7]},8,["modelValue"])]),n("form",{class:"form-card",onSubmit:L(V,["prevent"]),autocomplete:"off"},[l(t(g),{type:"text",size:"lg",label:"Käyttäjätunnus",id:"loginUsername",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value=o),wrapperClass:"mb-4"},null,8,["modelValue"]),l(t(g),{type:"password",size:"lg",label:"Salasana",id:"loginPassword",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value=o),wrapperClass:"mb-4"},null,8,["modelValue"]),l(t(U),{class:"mb-4"},{default:s(()=>[l(t(f),{class:"d-flex justify-content-center"},{default:s(()=>[l(t(F),{label:"Muista minut",id:"loginCheck",modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),wrapperClass:"mb-3 mb-md-0"},null,8,["modelValue"])]),_:1}),l(t(f),null,{default:s(()=>[l(k,{to:"/forgot_auth"},{default:s(()=>e[8]||(e[8]=[r("Forgot password",-1)])),_:1,__:[8]})]),_:1})]),_:1}),l(t(j),{color:"primary",size:"lg",type:"submit",block:"",class:"mb-4"},{default:s(()=>e[9]||(e[9]=[r(" Kirjaudu ",-1)])),_:1,__:[9]}),n("div",z,[n("p",A,[e[10]||(e[10]=r("Ei jäsen? ",-1)),n("span",{id:"reg",onClick:e[4]||(e[4]=o=>i.$router.push("/register-panel")),style:{cursor:"pointer",color:"#0E7490"}},"rekisteröidy")])])],32)])}}});export{K as default};
