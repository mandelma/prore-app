import{r as i,h as c,c as x,o as C,b as n,a as l,w as s,u as t,l as U,v as g,Z as j,e as L,f as r,k as E,x as S,y as _,G as f,M as F,q as M}from"./index-0xjDgJIs.js";const N={style:{padding:"13px 0 20px 0"}},z={class:"text-center"},H=Object.assign({name:"LoginForm"},{__name:"LoginForm",setup(A){const a=i(""),u=i(""),p=i(!0),v=c(),b=S(),d=i(!1),y=()=>{d.value=!1};i(!1);const V=async()=>{let m;const e={username:a.value,password:u.value};console.log("Filled username: "+a.value),a.value!==""&&u.value!==""?(m=await M.login(e),m.error!=="login error"?(console.log("User just logged in!"),v.onLogin(m),await b.push({name:"Home"})):(console.log("No user logged in"),d.value=!0)):console.log("Error - Kaikki kentät täytettävä!"),k()},k=()=>{a.value="",u.value=""};return(m,e)=>{const w=_("router-link");return C(),x("div",null,[n("div",N,[l(t(U),{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=o=>d.value=o),autohide:"",delay:3e3,stacking:!1,position:"top-center",toast:"danger",icon:"fas fa-exclamation-circle fa-lg me-2"},{title:s(()=>e[5]||(e[5]=[r(" TAPAHTUI VIRHE! ",-1)])),small:s(()=>e[6]||(e[6]=[r("eee",-1)])),default:s(()=>[n("button",{type:"button",style:{visibility:"hidden"},class:"btn-close ms-auto","aria-label":"Close",onClick:y}),e[7]||(e[7]=r(" Väärä käyttäjätunnus tai salasana! ",-1))]),_:1,__:[7]},8,["modelValue"])]),n("form",{class:"form-card",onSubmit:E(V,["prevent"]),autocomplete:"off"},[l(t(g),{type:"text",size:"lg",label:"Käyttäjätunnus",id:"loginUsername",modelValue:a.value,"onUpdate:modelValue":e[1]||(e[1]=o=>a.value=o),wrapperClass:"mb-4"},null,8,["modelValue"]),l(t(g),{type:"password",size:"lg",label:"Salasana",id:"loginPassword",modelValue:u.value,"onUpdate:modelValue":e[2]||(e[2]=o=>u.value=o),wrapperClass:"mb-4"},null,8,["modelValue"]),l(t(j),{class:"mb-4"},{default:s(()=>[l(t(f),{class:"d-flex justify-content-center"},{default:s(()=>[l(t(F),{label:"Muista minut",id:"loginCheck",modelValue:p.value,"onUpdate:modelValue":e[3]||(e[3]=o=>p.value=o),wrapperClass:"mb-3 mb-md-0"},null,8,["modelValue"])]),_:1}),l(t(f),null,{default:s(()=>[l(w,{to:"/forgot_auth"},{default:s(()=>e[8]||(e[8]=[r("Forgot password",-1)])),_:1,__:[8]})]),_:1})]),_:1}),l(t(L),{white:"",outline:"primary",size:"lg",type:"submit",block:"",class:"mb-4"},{default:s(()=>e[9]||(e[9]=[r(" Kirjaudu ",-1)])),_:1,__:[9]}),n("div",z,[n("p",null,[e[10]||(e[10]=r("Ei jäsen? ",-1)),n("span",{id:"reg",onClick:e[4]||(e[4]=o=>this.$router.push("/register")),style:{cursor:"pointer"}},"rekisteröidy")])])],32)])}}});export{H as default};
