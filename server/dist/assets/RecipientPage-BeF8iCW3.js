import{u as Q,r as C,Y as V,_ as b,i as c,o,w as t,e,J as x,f as z,c as p,b as s,g as a,Z as h,G as f,y as d,O as $,aD as D,z as g,h as _,m,A as P,b1 as T,I as U}from"./index-B6-cChpL.js";import j from"./RecipientContent-DHGXx8Ev.js";/* empty css                                                                      */import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css                                                                         */const G={key:0},J={key:1},Z={class:"client-header"},A={key:0,class:"client-orders"},E={id:"info-block-confirmed"},F={class:"file-marker"},L={class:"box-title-confirmed"},Y={class:"box-contents-confirmed"},H={class:"booking_time"},K={key:0},M={style:{"margin-top":"23px"}},W=Object.assign({name:"recipient-page"},{__name:"RecipientPage",props:{},setup(X){const{t:i}=Q(),S=z(),R=C(null),v=C(!1),y=C(null),B=V(),{bookings:O}=b(B),w=(l,r)=>{console.log("Booking id - "+l),console.log("Booking title: "),v.value=!0,y.value=B.getBookingById(l)},I=(l,r)=>{console.log("Booking id is "+l),console.log("Offer id is "+r),y.value=B.getBookingById(l)},N=()=>{v.value=!1};return(l,r)=>(o(),c(e(x),null,{default:t(()=>[v.value?(o(),p("div",G,[s(j,{booking:y.value,onUpdateOfferState:I,onCanselRecipientContent:N},null,8,["booking"])])):(o(),p("div",J,[a("div",null,[s(e(h),null,{default:t(()=>[s(e(f),{md:"8"}),s(e(f),{style:{padding:"20px 5px 20px 5px",color:"cadetblue"},md:"4"},{default:t(()=>[a("h3",Z,d(e(i)("recipient_panel_you_have")+" "+e(O).length+" "+e(i)("recipient_panel_open_orders")),1)]),_:1})]),_:1}),(o(!0),p($,null,D(e(O),(n,k)=>(o(),c(e(h),{key:k,class:"bookings"},{default:t(()=>[n.status!=="confirmed"?(o(),p("div",A,[a("aside",E,[a("section",F,[a("div",null,[a("div",L,d(n.isIncludeOffers?n.offers.length>0?n.offers.length+" "+e(i)("offerCountNotification"):e(i)("recipient_panel_no_offers"):e(i)("recipient_panel_order_is_pending")),1),a("div",Y,[s(e(h),null,{default:t(()=>[s(e(f),null,{default:t(()=>[a("p",H,d(n.date),1)]),_:2},1024),s(e(f),null,{default:t(()=>[_(d(n.header),1)]),_:2},1024),s(e(f),{lg:"4"},{default:t(()=>[n.isIncludeOffers?(o(),c(e(m),{key:1,rounded:"",outline:"",size:"lg",onClick:u=>w(n.id,n),style:{width:"100%"}},{default:t(()=>[a("span",{class:P({date_expired:n.created_ms-new Date().getTime()<=0})},d(e(i)("recipient_panel_order")),3),n.offers.filter(u=>u.isNewOffer).length>0?(o(),c(e(T),{key:0,color:"danger",class:"ms-2"},{default:t(()=>[_(d(n.offers.filter(u=>u.isNewOffer).length),1)]),_:2},1024)):g("",!0)]),_:2},1032,["onClick"])):(o(),p("div",K,[k===R.value?(o(),c(e(m),{key:0,style:{"margin-bottom":"13px"},outline:"danger",block:"",size:"lg",onClick:l.canselQuitSelectedBooking},{default:t(()=>[...r[2]||(r[2]=[_(" Poistu ",-1)])]),_:1},8,["onClick"])):(o(),c(e(m),{key:1,color:"danger",onClick:u=>l.handleQuitSelectedBooking(k)},{default:t(()=>[_(d(e(i)("recipient_panel_quit_order")),1)]),_:1},8,["onClick"]))]))]),_:2},1024)]),_:2},1024),R.value===k&&!n.isIncludeOffers?(o(),c(e(h),{key:0},{default:t(()=>[s(e(f),{lg:"8",style:{"text-align":"center"}},{default:t(()=>[l.isQuitBooking?(o(),c(e(U),{key:0,white:"",style:{},modelValue:l.clientQuitBookingReason,"onUpdate:modelValue":r[0]||(r[0]=u=>l.clientQuitBookingReason=u),label:e(i)("recipient_panel_give_reason"),rows:"3"},null,8,["modelValue","label"])):g("",!0)]),_:1}),s(e(f),{lg:"4"},{default:t(()=>[l.isQuitBooking&&l.clientQuitBookingReason.length>3?(o(),c(e(m),{key:0,block:"",color:"success",size:"lg>",style:{"margin-top":"10px"},onClick:u=>l.clientRejectBookingNoOffers(n)},{default:t(()=>[_(d(e(i)("recipient_panel_confirm_quit")),1)]),_:1},8,["onClick"])):g("",!0)]),_:2},1024)]),_:2},1024)):g("",!0)])])])])])):g("",!0)]),_:2},1024))),128)),a("div",M,[s(e(m),{outline:"info",block:"",size:"lg",onClick:r[1]||(r[1]=n=>e(S).push("/client-form"))},{default:t(()=>[_(d(e(i)("recipient_panel_new_order")),1)]),_:1})])])]))]),_:1}))}}),se=q(W,[["__scopeId","data-v-558b8928"]]);export{se as default};
